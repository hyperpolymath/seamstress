#!/usr/bin/env sh
set -eu

echo "[hook] seamctl validate"
cargo run --quiet --manifest-path tools/seamctl/Cargo.toml -- validate

echo "[hook] rustfmt (check)"
cargo fmt --manifest-path tools/seamctl/Cargo.toml --all -- --check

echo "[hook] elixir format (check)"
( cd services/seamstressd && mix format --check-formatted )

echo "[hook] ok"
